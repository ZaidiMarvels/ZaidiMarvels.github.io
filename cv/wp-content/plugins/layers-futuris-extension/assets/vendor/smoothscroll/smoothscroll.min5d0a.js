// Smooth scroll
// Licensed under the terms of the MIT license.
(function(){function t(){var t=!1;t&&u("keydown",o),y.keyboardSupport&&!t&&l("keydown",o)}function e(){if(document.body){var e=document.body,i=document.documentElement,n=window.innerHeight,o=e.scrollHeight;if(k=document.compatMode.indexOf("CSS")>=0?i:e,g=e,t(),C=!0,top!=self)b=!0;else if(o>n&&(e.offsetHeight<=n||i.offsetHeight<=n)&&(i.style.height="auto",k.offsetHeight<=n)){var a=document.createElement("div");a.style.clear="both",e.appendChild(a)}y.fixedBackground||w||(e.style.backgroundAttachment="scroll",i.style.backgroundAttachment="scroll")}}function i(t,e,i,n){if(n||(n=1e3),d(e,i),1!=y.accelerationMax){var o=+new Date,a=o-M;if(a<y.accelerationDelta){var s=(1+30/a)/2;s>1&&(s=Math.min(s,y.accelerationMax),e*=s,i*=s)}M=+new Date}if(S.push({x:e,y:i,lastX:0>e?.99:-.99,lastY:0>i?.99:-.99,start:+new Date}),!D){var r=t===document.body,l=function(o){for(var a=+new Date,s=0,u=0,c=0;c<S.length;c++){var d=S[c],p=a-d.start,h=p>=y.animationTime,f=h?1:p/y.animationTime;y.pulseAlgorithm&&(f=m(f));var g=d.x*f-d.lastX>>0,v=d.y*f-d.lastY>>0;s+=g,u+=v,d.lastX+=g,d.lastY+=v,h&&(S.splice(c,1),c--)}r?window.scrollBy(s,u):(s&&(t.scrollLeft+=s),u&&(t.scrollTop+=u)),e||i||(S=[]),S.length?L(l,t,n/y.frameRate+1):D=!1};L(l,t,0),D=!0}}function n(t){C||e();var n=t.target,o=r(n);if(!o||t.defaultPrevented||c(g,"embed")||c(n,"embed")&&/\.pdf/i.test(n.src))return!0;var a=t.wheelDeltaX||0,s=t.wheelDeltaY||0;return a||s||(s=t.wheelDelta||0),!y.touchpadSupport&&p(s)?!0:(Math.abs(a)>1.2&&(a*=y.stepSize/120),Math.abs(s)>1.2&&(s*=y.stepSize/120),i(o,-a,-s),void t.preventDefault())}function o(t){var e=t.target,n=t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.keyCode!==I.spacebar;if(/input|textarea|select|embed/i.test(e.nodeName)||e.isContentEditable||t.defaultPrevented||n)return!0;if(c(e,"button")&&t.keyCode===I.spacebar)return!0;var o,a=0,s=0,l=r(g),u=l.clientHeight;switch(l==document.body&&(u=window.innerHeight),t.keyCode){case I.up:s=-y.arrowScroll;break;case I.down:s=y.arrowScroll;break;case I.spacebar:o=t.shiftKey?1:-1,s=-o*u*.9;break;case I.pageup:s=.9*-u;break;case I.pagedown:s=.9*u;break;case I.home:s=-l.scrollTop;break;case I.end:var d=l.scrollHeight-l.scrollTop-u;s=d>0?d+10:0;break;case I.left:a=-y.arrowScroll;break;case I.right:a=y.arrowScroll;break;default:return!0}i(l,a,s),t.preventDefault()}function a(t){g=t.target}function s(t,e){for(var i=t.length;i--;)_[P(t[i])]=e;return e}function r(t){var e=[],i=k.scrollHeight;do{var n=_[P(t)];if(n)return s(e,n);if(e.push(t),i===t.scrollHeight){if(!b||k.clientHeight+10<i)return s(e,document.body)}else if(t.clientHeight+10<t.scrollHeight&&(overflow=getComputedStyle(t,"").getPropertyValue("overflow-y"),"scroll"===overflow||"auto"===overflow))return s(e,t)}while(t=t.parentNode)}function l(t,e,i){window.addEventListener(t,e,i||!1)}function u(t,e,i){window.removeEventListener(t,e,i||!1)}function c(t,e){return(t.nodeName||"").toLowerCase()===e.toLowerCase()}function d(t,e){t=t>0?1:-1,e=e>0?1:-1,x.x===t&&x.y===e||(x.x=t,x.y=e,S=[],M=0)}function p(t){if(t){t=Math.abs(t),T.push(t),T.shift(),clearTimeout(E);var e=T[0]==T[1]&&T[1]==T[2],i=h(T[0],120)&&h(T[1],120)&&h(T[2],120);return!(e||i)}}function h(t,e){return Math.floor(t/e)==t/e}function f(t){var e,i,n;return t*=y.pulseScale,1>t?e=t-(1-Math.exp(-t)):(i=Math.exp(-1),t-=1,n=1-Math.exp(-t),e=i+n*(1-i)),e*y.pulseNormalize}function m(t){return t>=1?1:0>=t?0:(1==y.pulseNormalize&&(y.pulseNormalize/=f(1)),f(t))}var g,v={frameRate:150,animationTime:500,stepSize:150,pulseAlgorithm:!0,pulseScale:6,pulseNormalize:1,accelerationDelta:20,accelerationMax:1,keyboardSupport:!0,arrowScroll:50,touchpadSupport:!0,fixedBackground:!0,excluded:""},y=v,w=!1,b=!1,x={x:0,y:0},C=!1,k=document.documentElement,T=[120,120,120],I={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},y=v,S=[],D=!1,M=+new Date,_={};setInterval(function(){_={}},1e4);var E,P=function(){var t=0;return function(e){return e.uniqueID||(e.uniqueID=t++)}}(),L=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t,e,i){window.setTimeout(t,i||1e3/60)}}(),A=/chrome/i.test(window.navigator.userAgent),O="onmousewheel"in document;O&&A&&(l("mousedown",a),l("mousewheel",n),l("load",e))})();